(this["webpackJsonpemployee-directory"]=this["webpackJsonpemployee-directory"]||[]).push([[0],{31:function(e,t,n){e.exports=n(47)},36:function(e,t,n){},47:function(e,t,n){"use strict";n.r(t);var a=n(0),r=n.n(a),c=n(25),u=n.n(c),l=(n(36),n(17)),o=n(11),i=n(10),s=n.n(i),m=n(12),p=n(9),f=n(48),E=n(49),d=n(50),v=n(27),h=n(52),b=n(51),y=n(15),O=n(16);function j(e){var t=e.history,n=Object(a.useState)(""),c=Object(p.a)(n,2),u=c[0],l=c[1],o=function(){var e=Object(m.a)(s.a.mark((function e(n){return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n.preventDefault(),t.push("/overview/".concat(u));case 2:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return r.a.createElement("div",{className:"flex-container"},r.a.createElement(f.a,null,r.a.createElement("h1",null,"Employee Explorer ",r.a.createElement(E.a,{variant:"secondary"},"Beta")),r.a.createElement(d.a,null,r.a.createElement(v.a,null,r.a.createElement(h.a,{onSubmit:function(e){return o(e)}},r.a.createElement(b.a,null,r.a.createElement(b.a.Prepend,null,r.a.createElement(b.a.Text,null,r.a.createElement(y.a,{onClick:function(e){return o(e)},icon:O.b}))),r.a.createElement(h.a.Control,{onChange:function(e){return function(e){l(e.target.value)}(e)},type:"text",placeholder:"Name"})))))))}var x=r.a.createContext();x.Consumer;function w(e){var t=e.name,n=e.depth,c=Object(a.useState)([]),u=Object(p.a)(c,2),l=u[0],o=u[1],i=Object(a.useState)(null),f=Object(p.a)(i,2),E=f[0],d=f[1],v=Object(a.useContext)(x),h=v.employees,b=v.setEmployees,y="https://api.additivasia.io/api/v1/assignment/employees";return Object(a.useEffect)((function(){(function(){var e=Object(m.a)(s.a.mark((function e(){var n,a,r;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch(y+"/".concat(t)).then((function(e){return e.json()}));case 2:if(n=e.sent,a=n[1]&&n[1]["direct-subordinates"],r=n[0],d(r),a){e.next=8;break}return e.abrupt("return",!1);case 8:h.forEach((function(e){a.indexOf(e)>-1&&a.splice(a.indexOf(e),1)})),a.forEach((function(e){return b((function(t){return t.add(e)}))})),o(a||[]);case 11:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}})()()}),[y,t,b,h]),r.a.createElement("div",{style:{marginLeft:10*n+"px"}},t," - ",E,l.map((function(e){return r.a.createElement(w,{name:e,depth:n+1,key:e})})))}function g(){var e=Object(o.f)().name,t=Object(a.useState)([]),n=Object(p.a)(t,2),c=n[0],u=n[1],i=Object(a.useContext)(x).setEmployees;return Object(a.useEffect)((function(){(function(){var t=Object(m.a)(s.a.mark((function t(){var n,a;return s.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,fetch("https://api.additivasia.io/api/v1/assignment/employees"+"/".concat(e)).then((function(e){return e.json()}));case 2:if(n=t.sent,a=n[1]&&n[1]["direct-subordinates"]){t.next=6;break}return t.abrupt("return",!1);case 6:u(a||[]),a.forEach((function(e){return i((function(t){return t.add(e)}))}));case 8:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}})()()}),[e,u,i]),r.a.createElement(f.a,null,r.a.createElement(d.a,{style:{paddingTop:"5em"}},r.a.createElement(l.b,{to:"/"},r.a.createElement(y.a,{style:{color:"grey"},size:"lg",icon:O.a}))),r.a.createElement(d.a,null,r.a.createElement("h1",null," Employee Overview ")),r.a.createElement(d.a,null,r.a.createElement(v.a,null,0===c.length&&r.a.createElement("div",null," No Subordinates Found. "),c.length>1&&c.map((function(e){return r.a.createElement(w,{name:e,key:e,depth:0})})))))}u.a.render(r.a.createElement((function(e){var t=Object(a.useState)(new Set),n=Object(p.a)(t,2),c=n[0],u=n[1];return r.a.createElement(x.Provider,{value:{employees:c,setEmployees:u}},e.children)}),null,r.a.createElement((function(){return r.a.createElement(l.a,{basename:"/employee-explorer"},r.a.createElement("div",{className:"app"},r.a.createElement(o.c,null,r.a.createElement(o.a,{exact:!0,path:"/",component:j}),r.a.createElement(o.a,{path:"/overview/:name"},r.a.createElement(g,null)))))}),null)),document.getElementById("root"))}},[[31,1,2]]]);
//# sourceMappingURL=main.58d8c5ab.chunk.js.map